name: .NET (Release)

on:
  workflow_dispatch:
    inputs:
      releaseType:
        description: 'Release type - major, minor or patch'
        required: true
        default: 'minor'
      preReleaseFlavor:
        description: 'Pre-Release flavor - rc, beta, or anything'
        required: false
        default: ''

defaults:
  run:
    working-directory: visual-dotnet

jobs:
  

  build:
    runs-on: windows-latest

    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-dotnet@v3
        with:
          dotnet-version: 6.0.x
      - run: dotnet tool install -g dotnet-format
      - run: dotnet format '.' --verify-no-changes
      - run: dotnet restore
      - run: dotnet build .\SauceLabs.Visual\SauceLabs.Visual.csproj --no-restore
      - run: dotnet test --verbosity normal
  